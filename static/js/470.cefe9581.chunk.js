"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[470],{2004:function(e,t,n){n.d(t,{Hp:function(){return u},Yu:function(){return c}});var a=n(4165),r=n(5861),s=n(1845),l=n(1243),o=n(9655),c=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.y_.get("".concat(t,"/all"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("".concat("http://localhost:5000/","/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),o.Am.error("\u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},4470:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=n(9439),r=n(2791),s=n(4165),l=n(5861),o=n(1845),c=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.y_.get("bookTome/book/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.GJ.post("bookTome",{bookId:t,value:n});case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=n(9767),d=n(4942),x=n(1413),f=n(4787),m=n(184),h=function(e){e.setUpdated;var t=e.onClick,n=e.bookId,s=e.translatorId,l=(0,r.useState)({name:"",bookTome:{},status:{},translatorId:-1,bookId:-1,costChapter:0,costAudio:0}),o=(0,a.Z)(l,2),i=(o[0],o[1]);(0,r.useEffect)((function(){i((function(e){var t;return(0,x.Z)((0,x.Z)({},e),{},(t={},(0,d.Z)(t,"bookId",n),(0,d.Z)(t,"translatorId",s),t))}))}),[]);var h=function(e){var t=e.target,n=t.name,a=t.value;i((function(e){return(0,x.Z)((0,x.Z)({},e),{},(0,d.Z)({},n,a))}))};return(0,m.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 backgrop-blue-sm flex justify-center items-center",children:(0,m.jsxs)("div",{className:"bg-white p-8 rounded",children:[(0,m.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xl font-bold text-center",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u0443"}),(0,m.jsxs)("div",{className:"flex flex-col w-[600px] mx-auto",children:[(0,m.jsx)(f.II,{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",input:"\u0413\u043b\u0430\u0432\u0430 \u2116",helper:"\u043f\u0438\u0448\u0438\u0442\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438",onChange:h}),(0,m.jsx)(f.bl,{type:n,title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",input:"\u0422\u043e\u043c",name:"bookTome",helper:"\u043f\u0438\u0448\u0438\u0442\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438",setSelectedOption:h,get:c,someV:n,post:u}),(0,m.jsx)(f.Ur,{type:"chapter/status",title:"\u0421\u0442\u0430\u0442\u0443\u0441",input:"\u0421\u0442\u0430\u0442\u0443\u0441",name:"status",helper:"\u0412 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0435",setSelectedOption:h,isMulti:!1,valueType:"value",onSelect:!0}),(0,m.jsx)(f.II,{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",name:"costChapter",input:"\u0410\u0432\u0442\u043e\u0440",helper:"\u043f\u0438\u0448\u0438\u0442\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438",onChange:h}),(0,m.jsx)(f.II,{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0443\u0434\u0438\u043e",name:"costAudio",input:"\u0410\u0432\u0442\u043e\u0440",helper:"\u043f\u0438\u0448\u0438\u0442\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438",onChange:h})]}),(0,m.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,m.jsx)("button",{type:"button",className:"text-white w-36 mx-auto bg-cred hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2  focus:outline-none dark:focus:ring-blue-800",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,m.jsx)("button",{type:"button",onClick:function(){return t(!1)},className:"text-white w-36 mx-auto bg-cred hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2  focus:outline-none dark:focus:ring-blue-800",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})},p=function(e){var t=e.bookId,n=e.translatorId,s=(0,r.useState)(!1),l=(0,a.Z)(s,2),o=l[0],u=l[1],d=(0,r.useState)([]),x=(0,a.Z)(d,2),f=x[0],p=x[1],v=(0,r.useState)(!0),b=(0,a.Z)(v,2),g=b[0],j=b[1],y=(0,r.useState)(!1),w=(0,a.Z)(y,2),N=w[0],k=(w[1],(0,r.useState)(!1)),Z=(0,a.Z)(k,2),I=Z[0],C=Z[1];return(0,r.useEffect)((function(){c(t).then((function(e){j(!0),p(e)}))}),[I]),console.log(o),g?(0,m.jsxs)("div",{className:"max-w-[1144px] bg-white mx-auto mt-4",children:[(0,m.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,m.jsxs)("div",{className:"flex flex-row",children:[(0,m.jsx)("a",{href:"#",className:"bookChapterButton",onClick:function(){return u(!o)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u0443"}),(0,m.jsx)("a",{href:"#",className:"bookChapterButton",children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"}),(0,m.jsx)("a",{href:"#",className:"bookChapterButton",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u044b"})]}),(0,m.jsx)("a",{href:"#",className:"bookPageButton",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u0443"})]}),(0,m.jsx)(i.n,{cols:f.length&&f,rowName:"chapters",isEditor:N,bookId:t}),o&&(0,m.jsx)(h,{translatorId:n,setUpdated:C,onClick:u,bookId:t})]}):null}},4787:function(e,t,n){n.d(t,{II:function(){return m},Ur:function(){return p},bl:function(){return f}});var a=n(4165),r=n(3433),s=n(5861),l=n(9439),o=n(2791),c=n(8622),u=n(416),i=n(2004),d=n(5848),x=n(184),f=function(e){var t=e.className,n=e.type,c=e.name,d=(e.helper,e.setSelectedOption),f=e.post,m=e.get,p=void 0===m?i.Yu:m,v=e.someV,b=void 0===v?null:v,g=e.label,j=(0,o.useState)(null),y=(0,l.Z)(j,2),w=y[0],N=y[1],k=(0,o.useState)(!1),Z=(0,l.Z)(k,2),I=Z[0],C=Z[1];o.useEffect((function(){C(!0),p(n).then((function(e){var t=e.map((function(e){return{id:e.id,value:e.value,label:e.value}}));C(!1),N(t)}))}),[]);var S=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,f(t,b).then((function(e){console.log(e);var t={id:e.id,value:e.value,label:e.value,bookId:e.bookId};C(!1),N((function(e){return[].concat((0,r.Z)(e),[t])}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return w?(0,x.jsx)("div",{className:"flex flex-wrap -mx-3 mb-2",children:(0,x.jsxs)("div",{className:"w-full mx-auto px-3",children:[(0,x.jsx)(h,{value:g}),(0,x.jsx)(u.Z,{isLoading:I,onChange:function(e){return d({target:{name:c,value:e}})},onCreateOption:S,options:w,className:t,classNamePrefix:"select"})]})}):null},m=function(e){var t=e.title,n=void 0===t?null:t,a=e.input,r=void 0===a?null:a,s=(e.helper,e.onChange),l=e.type,o=void 0===l?"text":l,c=e.name,u=e.className;return(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)(h,{value:n}),(0,x.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-700 border border-gray-300 rounded-md py-2 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:s,type:o,name:c,placeholder:r})]})},h=function(e){var t=e.value,n=e.className,a=void 0===n?"":n;return(0,x.jsx)("div",{className:"tracking-wide text-gray-700 text-md mb-1 "+a,children:t})},p=function(e){var t=e.type,n=e.label,a=(e.helper,e.name),r=e.setSelectedOption,s=e.valueType,u=void 0===s?"value":s,f=e.isMulti,m=void 0===f||f,p=e.onSelect,v=void 0!==p&&p,b=e.className,g=(0,o.useState)(null),j=(0,l.Z)(g,2),y=j[0],w=j[1];return(0,o.useEffect)((function(){(0,i.Yu)(t).then((function(e){var t=e.map((function(e){return{id:e.id,value:e[u],label:e[u]}}));w(t)}))}),[]),console.log(),y?(0,x.jsx)("div",{className:"flex flex-wrap -mx-3 mb-2",children:(0,x.jsxs)("div",{className:(0,d.AK)("w-full mx-auto px-3",b),children:[(0,x.jsx)(h,{value:n}),(0,x.jsx)(c.ZP,{closeMenuOnSelect:v,isMulti:m,onChange:function(e){return r({target:{name:a,value:e}})},options:y,classNamePrefix:"select"})]})}):null}},9767:function(e,t,n){n.d(t,{n:function(){return d},x:function(){return x}});var a=n(9439),r=n(2791),s=n(4919),l=n(7689),o=n(184),c=[{value:"",style:""},{value:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",style:"w-1/2"},{value:"",style:""},{value:"\u0421\u0442\u0430\u0442\u0443\u0441",style:""},{value:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c",style:""},{value:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432",style:""},{value:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e",style:""}],u=function(e){var t=e.value,n=e.textAlign,a=void 0===n?"center":n,r=e.onClick,s=e.className,l=e.key;e.href;return(0,o.jsx)("td",{style:{textAlign:a},className:"px-1 py-3 text-md font-medium text-gray-800 whitespace-nowrap "+s,children:(0,o.jsx)("button",{onClick:r,children:t})},l)},i=function(e){var t=e.cols,n=e.rows,c=e.rowNames,i=e.isEditor,d=e.bookId,x=(0,r.useState)(!1),f=(0,a.Z)(x,2),m=(f[0],f[1],(0,l.s0)());return(0,o.jsx)("tbody",{className:"divide-gray-200 border-b-2",children:n.map((function(e){var t=new Date(e.updatedAt),n=t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"h-fit",children:(0,o.jsx)("input",{type:"checkbox",value:"",className:"flex m-auto w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})}),c.map((function(t){return"edit"!==t?(0,o.jsx)(u,{value:e[t],textAlign:"name"===t?"left":"center",onClick:function(){return"name"===t&&m("/book/".concat(d,"/").concat(e.id))}},e.id+e[t]):(0,o.jsx)("td",{children:(0,o.jsx)("button",{onClick:function(){return m("/book/".concat(d,"/").concat(e.id,"/import"))},children:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})},e.id+t)})),(0,o.jsx)(u,{value:n}),i&&(0,o.jsx)("td",{className:"m-auto p-2",children:(0,o.jsx)(s.Z,{})})]},e.id)}))},t.id)},d=function(e){var t=e.isEditor,n=void 0===t||t,a=(e.setIsEditor,e.cols),r=e.rowName,s=e.bookId;return a?(0,o.jsx)("div",{className:"flex flex-col max-w-full mx-auto",children:(0,o.jsxs)("table",{className:"min-w-full  divide-gray-200",children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:c.map((function(e,t){return(0,o.jsx)("th",{scope:"col",style:{textAlign:t>1?"center":"left"},className:"px-1 py-3 text-md font-bold text-gray-500 "+e.style,children:e.value},e.value)}))})}),a.map((function(e){return(0,o.jsx)(i,{cols:e,rows:e[r],rowNames:["name","edit","likes","views","downloaded"],isEditor:n,bookId:s},e)}))]})}):null},x=function(e){var t=e.cols,n=e.rows,a=e.loading;return console.log(n),(0,o.jsx)("div",{className:"flex flex-col max-w-5xl mx-auto",children:(0,o.jsxs)("table",{className:"min-w-full  divide-gray-200",children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:t.map((function(e,t){return(0,o.jsx)("th",{scope:"col",style:{textAlign:t>0?"center":"left"},className:"px-1 py-3 text-md font-bold text-gray-500 ",children:e},e)}))})}),(0,o.jsx)("tbody",{children:a?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("tr",{className:"h-12 text-center",children:[(0,o.jsxs)("td",{className:"flex flex-row my-auto py-2",children:[(0,o.jsx)("div",{className:"my-auto bg-slate-300 rounded-full border-spacing-1 aspect-square w-12"}),(0,o.jsx)("div",{className:"h-4 w-2/3 bg-slate-300 m-auto rounded-lg"})]}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"h-4 w-12 bg-slate-300 mx-auto rounded-lg"})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"h-4 w-12 bg-slate-300 mx-auto rounded-lg"})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"h-4 w-12 bg-slate-300 mx-auto rounded-lg"})})]})}):n.map((function(e){return(0,o.jsxs)("tr",{className:"h-12 text-center",children:[(0,o.jsxs)("td",{className:"flex flex-row my-auto py-2",children:[(0,o.jsx)("img",{src:"http://localhost:5000//img/"+e.img,className:"my-auto rounded-full border-spacing-1 aspect-square w-12 object-cover"})," ",(0,o.jsx)("span",{className:"ml-4 my-auto",children:e.name})]}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{href:"/team/"+e.id,children:e.name})}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{href:"/team/"+e.id,children:"titles"})}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{children:"likes"})})]},e.name)}))})]})})}},4919:function(e,t,n){var a=n(4836);t.Z=void 0;var r=a(n(5649)),s=n(184),l=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");t.Z=l}}]);
//# sourceMappingURL=470.cefe9581.chunk.js.map